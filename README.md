# MAGE-SLAM

MAGE-SLAM is a simultaneous localization and mapping library written in 
C++.

## Current Status

This repository is pre-preview and is not ready to be independently 
consumed at this time.

## Getting Started

Currently, only one "golden path" scenario is supported. This "golden path"
represents little more than a proof of functionality and should not be 
considered stable: it will be subject to very frequent changes and 
improvements as development on this repository continues.

**Requirements**: Visual Studio 2017 (with components required for C++
development), CMake.

1. Install [OpenCV 3.4.0](https://opencv.org/releases/). Installing will 
create a directory somewhere on your computer (presumably of your choosing)
with the OpenCV headers and binaries in it; `C:\libraries\opencv` is an
example of such a path. We will refer to this path henceforth as
`[OPENCV_INSTALL_DIRECTORY]`.
1. Clone this repository. Note that this repository uses submodules and 
thus may have deep directory structures. To avoid problems with overlong 
file paths, you may want to clone the repository to a shallow location 
such as `C:\repos\mageslam`.
1. `cd` into the MAGE-SLAM repository and install all submodules: 
`git submodule update --init --recursive`. 
Note that some submodules are very large, so this process may take many 
minutes (Boost, the largest submodule by far, reports cloning times in 
the range of half an hour).
1. Create a build folder in the repository: `mkdir Build`.
1. `cd` into your build folder and generate your project files using
CMake: 
`cmake -G "Visual Studio 15 2017" -A x64 -D OpenCV_DIR="[OPENCV_INSTALL_DIRECTORY]" ..`
(see notes below for information about this command).
1. Launch the Visual Studio solution generated by CMake: 
`start MAGESLAM.sln`.
1. The Console app should already be set as the startup project. Build
the Console app to build the entire project, or build all using 
`Ctrl+Shift+B`. At present, the MAGE-SLAM build (especially the first one)
is *very* slow; be prepared to wait twenty minutes or more for the build to
complete.
1. The Console app is currently hardcoded to process a video file located at
`C:\scratch\video.mp4`. You can either place a video in this location or 
change the Console to look for a video elsewhere.
1. If your OpenCV installation's binaries folder is not in your `PATH`, the
Console app may not be able to launch because it can't find the OpenCV 
DLLs. The simplest solution to this is simply to copy all three DLLs 
from `[OPENCV_INSTALL_DIRECTORY]\build\x64\vc15\bin` and paste them next to
the `Console.exe` Visual Studio is trying to run.

**Note:** Apart from the source directory, the CMake command provided in step 5 
has three arguments: `-G` mandates the generation of a VS 2017 project, 
`-A` specifies x64 as the target architecture, and the final flag tells 
CMake where to find OpenCV. All three of the arguments are included to make
it as straightforward as possible to integrate with the OpenCV 3.4.0 
release binaries, which do not support either x86 or versions of Visual 
Studio higher than 2017. These "golden path" constraints will disappear
when our procedure for depending on OpenCV matures.

## Deployment

There is no official deployment mechanism available at this time.

## Contributing

Please read [CONTRIBUTING.md](CONTRIBUTING.md) for details on our code of
conduct and the process for submitting pull requests to us.

## Maintainers

With questions, please contact one of the following maintainers:

- [Justin Murray](https://twitter.com/syntheticmagus)

## Reporting Security Issues

Security issues and bugs should be reported privately, via email, to the 
Microsoft Security Response Center (MSRC) at 
[secure@microsoft.com](mailto:secure@microsoft.com).
You should receive a response within 24 hours. If for some reason you do 
not, please follow up via email to ensure we received your original
message. Further information, including the
[MSRC PGP](https://technet.microsoft.com/en-us/security/dn606155)
key, can be found in the 
[Security TechCenter](https://technet.microsoft.com/en-us/security/default).
